
<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>In the Know Weather | Home</title> 
        <meta name="description" content="Weather site for Preston."> 
        <link rel="stylesheet" href="../../css/normalize.css">
        <link rel="stylesheet" href="css/small-9.css">
        <link rel="stylesheet" href="css/large-9.css">
        <link rel="stylesheet" href="css/medium-9.css">
    </head>
    <body>
        <header>
            <img src="images/intheknowlogo_dark.jpg" alt="logo" id="logo">
            <section class="headings">
                <h1>In the Know Weather</h1>
                <div id="moto"><p>Accurate weather always.</p></div>
            </section>
        </header>
        <nav>
            <button onclick="toggleMenu()">&#9776;</button>
            <ul id="primaryNav" class="hide">
                <li class="wayfinder"><a href="#">Home</a></li>
                <li><a href="preston-9.html">Preston</a></li>
                <li><a href="#">Soda Springs</a></li>
                <li><a href="#">Fish Haven</a></li>
                <li><a href="storm-center.html">Storm Center</a></li>
                <li><a href="gallery.html">Gallery</a></li>
            </ul>
        </nav>
        <main>
            <h1>Welcome</h1>
            <p id="welcomepara">Welcome to In the Know Weather, the place to come to learn everything you've ever wanted to know about the weather in the Preston, Soda Springs, and Fish Haven area. Here on our homepage, you'll find information about each of the towns such as events, historical information, and other cool facts.</p>
            <img src="images/clouds-cloudy-dark-clouds-164024.jpg" alt="clouds and mountains" class="banner-image">
            <h2>Local Information</h2>
            <section >
                <article id="towndata">
                    
                </article>
                <!-- <section class="townimgs">
                    <img src="images/idaho-lake-landscape-1694642.jpg">
                    <img src="images/4k-wallpaper-agriculture-clouds-842711.jpg">
                    <img src="images/agriculture-beautiful-clouds-325944.jpg">
                </section> -->
            </section>
            <script>
                var section = document.querySelector("article");

                var requestURL = "https://byui-cit230.github.io/weather/data/towndata.json";
                var request = new XMLHttpRequest();
                request.open("GET", requestURL);
                request.responseType = "json";
                request.send();

                request.onload = function () {
                    var townInfo = request.response;
                    showTowns(townInfo);
                }

                function showTowns(jsonObj) {
                    var towns = jsonObj["towns"];
                    var pics = ["<img src=\"images/idaho-lake-landscape-1694642.jpg\" width=\"300px\" alt=\"idaho lake landscape\">", "<img src=\"images/4k-wallpaper-agriculture-clouds-842711.jpg\" width=\"300px\" alt=\"field with tractor\">", "<img src=\"images/agriculture-beautiful-clouds-325944.jpg\" width=\"300px\" alt=\"agricultural field\">"];

                    for (var i = 0; i < towns.length; i++) {
                        if ((towns[i].name === "Preston") || (towns[i].name === "Soda Springs") || (towns[i].name === "Fish Haven")) {
                            var myArticle = document.createElement("article");
                            var townName = document.createElement("h2");
                            var para1 = document.createElement("p");
                            var para2 = document.createElement("p");
                            var para3 = document.createElement("p");
                            var para4 = document.createElement("p");
                            var townPic = document.createElement("div");                             

                            townName.textContent = towns[i].name;
                            para1.textContent = towns[i].motto;
                            para2.textContent = "Year Founded: " + towns[i].yearFounded;
                            para3.textContent = "Current Population: " + towns[i].currentPopulation;
                            para4.textContent = "Annual Rainfall: " + towns[i].averageRainfall;
                            if (towns[i].name === "Preston") {
                                townPic.innerHTML = pics[0];
                            }
                                else if (towns[i].name === "Soda Springs") {
                                    townPic.innerHTML = pics[1];
                                }
                                else if (towns[i].name ==="Fish Haven") {
                                    townPic.innerHTML = pics[2];
                                }
                            

                            myArticle.appendChild(townName);
                            myArticle.appendChild(para1);
                            myArticle.appendChild(para2);
                            myArticle.appendChild(para3);
                            myArticle.appendChild(para4);
                            myArticle.appendChild(townPic);

                            section.appendChild(myArticle);
                        }  

                        if (towns[i].name === "Preston") {
                            myArticle.className = 'preston';
                        }

                        if (towns[i].name === "Soda Springs") {
                            myArticle.className = 'soda-springs';
                        }
                    }
                }

                
            </script>

            <section class="contactus" id="homecontact">
                    <img src="images/2019-02-08.png" alt="map" id="map">
                <div class="text">  
                <h2>Contact Us</h2>
                    <p>Do you have questions, comments, feedback? Reach us at 315-626-9187 or intheknow@email.com. We would love to hear from you! You can also follow us on social media.</p>
                    <a target="_blank" href="https://www.facebook.com/"><img src="images/facebook.png" alt="facebook" class="social-media"></a>
                    <a target="_blank" href="https://www.pinterest.com/"><img src="images/pinterest.png" alt="pinterest" class="social-media"></a>
                    <a target="_blank" href="https://www.youtube.com/"><img src="images/youtube.png" alt="youtube" class="social-media"></a>
                </div>                      
            </section>
        </main>
        <footer>
            <p>&copy; 2019 all rights reserved | Jessica Duckworth | <span id="date"></span></p>
        </footer>
        <script src="javascript/date.js"></script>
        <script src="javascript/hamburger.js"></script>
        <script src="javascript/town-data.js"></script>
    </body>
</html>